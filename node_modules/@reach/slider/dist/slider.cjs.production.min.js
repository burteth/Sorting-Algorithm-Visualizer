"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),r=e(t);e(require("prop-types")),require("warning");var n,a,i=require("@reach/auto-id"),o=require("@reach/utils");function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(a[r]=e[r]);return a}(n=exports.SliderOrientation||(exports.SliderOrientation={})).Horizontal="horizontal",n.Vertical="vertical",(a=exports.SliderHandleAlignment||(exports.SliderHandleAlignment={})).Center="center",a.Contain="contain";var u=exports.SliderOrientation.Horizontal,s=exports.SliderOrientation.Vertical,c=exports.SliderHandleAlignment.Center,f=exports.SliderHandleAlignment.Contain,v=o.createNamedContext("SliderContext",{}),p=function(){return t.useContext(v)},h=(exports,exports,exports,exports,t.forwardRef((function(e,t){var n=e.children,a=d(e,["children"]);return r.createElement(b,Object.assign({ref:t,"data-reach-slider":""},a),r.createElement(x,null,r.createElement(m,null),r.createElement(g,null),n))}))),b=t.forwardRef((function(e,n){var a=e["aria-label"],l=e["aria-labelledby"],u=e["aria-valuetext"],s=e.defaultValue,c=e.disabled,f=void 0!==c&&c,p=e.value,h=e.getValueText,b=e.handleAlignment,x=void 0===b?exports.SliderHandleAlignment.Center:b,m=e.max,g=void 0===m?100:m,w=e.min,R=void 0===w?0:w,k=e.name,O=e.onChange,D=e.onKeyDown,P=e.onPointerDown,I=e.onPointerMove,C=e.onPointerUp,A=e.orientation,H=void 0===A?exports.SliderOrientation.Horizontal:A,L=e.step,T=e.children,F=d(e,["aria-label","aria-labelledby","aria-valuetext","defaultValue","disabled","value","getValueText","handleAlignment","max","min","name","onChange","onKeyDown","onPointerDown","onPointerMove","onPointerUp","orientation","step","children"]),N=t.useRef(null!=p).current,M=i.useId(F.id),V=t.useRef(null),_=t.useRef(null),j=t.useRef(null),K=o.useForkedRef(j,n),B=t.useState(!1),U=B[0],q=B[1],z=t.useState(!1),G=z[0],X=z[1],Y=t.useState(s||R),Z=Y[0],J=Y[1],Q=d(function(e){var r=t.useState({width:0,height:0}),n=r[0],a=n.width,i=n.height,l=r[1];return o.useIsomorphicLayoutEffect((function(){if(e.current){var t=window.getComputedStyle(e.current),r=t.width,n=parseFloat(t.height),o=parseFloat(r);n===i&&o===a||l({height:n,width:o})}}),[e,a,i]),{ref:e,width:a,height:i}}(_),["ref"]),W=y(N?p:Z,R,g),$=S(W,R,g),ee=H===exports.SliderOrientation.Vertical,te=L||1,re=ee?Q.height:Q.width,ne="calc("+$+"% - "+(x===exports.SliderHandleAlignment.Center?re+"px / 2":re+"px * "+.01*$)+")",ae=t.useCallback((function(e){N||J(e),O&&O(e,{min:R,max:g,handlePosition:ne})}),[ne,N,g,R,O]),ie=t.useCallback((function(e){if(V.current){var t=V.current.getBoundingClientRect(),r=function(e,t,r){return(r-t)*e+t}((ee?t.bottom-e.clientY:e.clientX-t.left)/(ee?t.height:t.width),R,g);return te&&(r=E(r,te)),y(r,R,g)}return null}),[ee,g,R,te]),oe=o.wrapEvent(D,(function(e){var t,r=!1,n=(g-R)/10,a=L||(g-R)/100;switch(e.key){case"ArrowLeft":case"ArrowDown":t=W-a,r=!0;break;case"ArrowRight":case"ArrowUp":t=W+a,r=!0;break;case"PageDown":t=W-n,r=!0;break;case"PageUp":t=W+n,r=!0;break;case"Home":t=R,r=!0;break;case"End":t=g,r=!0;break;default:return}r&&(e.preventDefault(),t=y(t=E(t,a),R,g),ae(t))})),le=o.wrapEvent(P,(function(e){if(e.preventDefault(),f)G&&X(!1);else if(j.current&&_.current){X(!0);var t=ie(e);j.current.setPointerCapture&&j.current.setPointerCapture(e.pointerId),null!=t&&t!==W&&ae(t),_.current.focus()}})),de=o.wrapEvent(C,(function(e){j.current&&e.pointerId&&j.current.releasePointerCapture&&j.current.releasePointerCapture(e.pointerId),X(!1)})),ue=h?h(W):u,se={ariaLabel:a,ariaLabelledBy:l,handleDimensions:Q,handlePosition:ne,handleRef:_,hasFocus:U,onKeyDown:D,onPointerDown:P,onPointerMove:I,onPointerUp:C,onHandleKeyDown:oe,setHasFocus:q,sliderId:M,sliderMax:g,sliderMin:R,value:W,valueText:ue,disabled:!!f,isVertical:ee,orientation:H,sliderStep:te,trackPercent:$,trackRef:V,trackHighlightStyle:ee?{width:"100%",height:$+"%",bottom:0}:{width:$+"%",height:"100%",left:0},updateValue:ae};return t.useEffect((function(){var e=o.getOwnerDocument(j.current)||document,t=o.wrapEvent(I,(function(e){var t=ie(e);t!==W&&ae(t)}));return G&&e.addEventListener("pointermove",t),function(){e.removeEventListener("pointermove",t)}}),[ie,G,I,ae,W]),t.useEffect((function(){return o.checkStyles("slider")}),[]),r.createElement(v.Provider,{value:se},r.createElement("div",Object.assign({},F,{ref:K,"data-reach-slider-input":"","data-disabled":f?"":void 0,"data-orientation":H,tabIndex:-1,onPointerDown:le,onPointerUp:de}),o.isFunction(T)?T({hasFocus:U,id:M,max:g,min:R,value:W,valueText:ue}):T,k&&r.createElement("input",{type:"hidden",value:W,name:k,id:M&&o.makeId("input",M)})))})),x=t.forwardRef((function(e,t){var n=e.children,a=e.style,i=void 0===a?{}:a,u=d(e,["children","style"]),s=p(),c=s.disabled,f=s.orientation,v=o.useForkedRef(s.trackRef,t);return r.createElement("div",Object.assign({ref:v,style:l({},i,{position:"relative"})},u,{"data-reach-slider-track":"","data-disabled":c?"":void 0,"data-orientation":f}),n)})),m=t.forwardRef((function(e,t){var n=e.style,a=void 0===n?{}:n,i=d(e,["children","style"]),o=p(),u=o.disabled,s=o.orientation;return r.createElement("div",Object.assign({ref:t,style:l({position:"absolute"},o.trackHighlightStyle,{},a)},i,{"data-reach-slider-track-highlight":"","data-disabled":u?"":void 0,"data-orientation":s}))})),g=t.forwardRef((function(e,t){var n=e.onBlur,a=e.onFocus,i=e.style,u=void 0===i?{}:i,s=e.onKeyDown,c=d(e,["onBlur","onFocus","style","onKeyDown"]),f=p(),v=f.ariaLabel,h=f.ariaLabelledBy,b=f.disabled,x=f.handlePosition,m=f.isVertical,g=f.onHandleKeyDown,w=f.orientation,y=f.setHasFocus,E=f.sliderMin,S=f.sliderMax,R=f.value,k=f.valueText,O=o.useForkedRef(f.handleRef,t);return r.createElement("div",Object.assign({"aria-disabled":b||void 0,"aria-label":v,"aria-labelledby":v?void 0:h,"aria-orientation":w,"aria-valuemax":S,"aria-valuemin":E,"aria-valuenow":R,"aria-valuetext":k,role:"slider",tabIndex:b?-1:0},c,{"data-reach-slider-handle":"",ref:O,onBlur:o.wrapEvent(n,(function(){y(!1)})),onFocus:o.wrapEvent(a,(function(){y(!0)})),onKeyDown:o.wrapEvent(s,g),style:l({position:"absolute"},m?{bottom:x}:{left:x},{},u)}))})),w=t.forwardRef((function(e,t){var n=e.children,a=e.style,i=void 0===a?{}:a,o=e.value,u=d(e,["children","style","value"]),s=p(),c=s.disabled,f=s.isVertical,v=s.orientation,h=s.sliderMin,b=s.sliderMax,x=s.value,m=!(o<h||o>b),g=S(o,h,b)+"%",w=o<x?"under-value":o===x?"at-value":"over-value";return m?r.createElement("div",Object.assign({ref:t,style:l({position:"absolute"},f?{bottom:g}:{left:g},{},i)},u,{"data-reach-slider-marker":"","data-disabled":c?"":void 0,"data-orientation":v,"data-state":w,"data-value":o,children:n})):null}));function y(e,t,r){return e>r?r:e<t?t:e}function E(e,t){return function(e,t){var r=t.toString().split(".")[1];return Number(e.toFixed(r?r.length:0))}(Math.round(e/t)*t,t)}function S(e,t,r){return 100*(e-t)/(r-t)}exports.SLIDER_HANDLE_ALIGN_CENTER=c,exports.SLIDER_HANDLE_ALIGN_CONTAIN=f,exports.SLIDER_ORIENTATION_HORIZONTAL=u,exports.SLIDER_ORIENTATION_VERTICAL=s,exports.Slider=h,exports.SliderHandle=g,exports.SliderInput=b,exports.SliderMarker=w,exports.SliderTrack=x,exports.SliderTrackHighlight=m,exports.default=h;
//# sourceMappingURL=slider.cjs.production.min.js.map
